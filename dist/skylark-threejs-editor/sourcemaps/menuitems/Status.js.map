{"version":3,"sources":["menuitems/Status.js"],"names":["define","THREE","mrdoobui","ThreeUI","MenubarStatus","editor","strings","container","UIPanel","setClass","autosave","UIBoolean","config","getKey","text","setColor","onChange","value","this","getValue","setKey","signals","sceneGraphChanged","dispatch","add","savingStarted","setTextDecoration","savingFinished","version","UIText","REVISION","setOpacity"],"mappings":";;;;;;;AAAAA,QACI,kBACA,mBACA,cACD,SAAUC,EAAOC,EAAUC,GAC1B,aA2BA,OAASC,cA1BW,SAAUC,GAC1B,IAAIC,EAAUD,EAAOC,QACjBC,EAAY,IAAIL,EAASM,QAC7BD,EAAUE,SAAS,cACnB,IAAIC,EAAW,IAAIP,EAAQQ,UAAUN,EAAOO,OAAOC,OAAO,YAAaP,EAAQO,OAAO,4BACtFH,EAASI,KAAKC,SAAS,QACvBL,EAASM,SAAS,WACd,IAAIC,EAAQC,KAAKC,WACjBd,EAAOO,OAAOQ,OAAO,WAAYH,IACnB,IAAVA,GACAZ,EAAOgB,QAAQC,kBAAkBC,aAGzChB,EAAUiB,IAAId,GACdL,EAAOgB,QAAQI,cAAcD,IAAI,WAC7Bd,EAASI,KAAKY,kBAAkB,eAEpCrB,EAAOgB,QAAQM,eAAeH,IAAI,WAC9Bd,EAASI,KAAKY,kBAAkB,UAEpC,IAAIE,EAAU,IAAI1B,EAAS2B,OAAO,IAAM5B,EAAM6B,UAI9C,OAHAF,EAAQnB,SAAS,SACjBmB,EAAQG,WAAW,IACnBxB,EAAUiB,IAAII,GACPrB","file":"../../menuitems/Status.js","sourcesContent":["define([\n    'skylark-threejs',\n    'skylark-mrdoobui',\n    '../ThreeUI'\n], function (THREE, mrdoobui, ThreeUI) {\n    'use strict';\n    var MenubarStatus = function (editor) {\n        var strings = editor.strings;\n        var container = new mrdoobui.UIPanel();\n        container.setClass('menu right');\n        var autosave = new ThreeUI.UIBoolean(editor.config.getKey('autosave'), strings.getKey('menubar/status/autosave'));\n        autosave.text.setColor('#888');\n        autosave.onChange(function () {\n            var value = this.getValue();\n            editor.config.setKey('autosave', value);\n            if (value === true) {\n                editor.signals.sceneGraphChanged.dispatch();\n            }\n        });\n        container.add(autosave);\n        editor.signals.savingStarted.add(function () {\n            autosave.text.setTextDecoration('underline');\n        });\n        editor.signals.savingFinished.add(function () {\n            autosave.text.setTextDecoration('none');\n        });\n        var version = new mrdoobui.UIText('r' + THREE.REVISION);\n        version.setClass('title');\n        version.setOpacity(0.5);\n        container.add(version);\n        return container;\n    };\n    return { MenubarStatus };\n});"]}