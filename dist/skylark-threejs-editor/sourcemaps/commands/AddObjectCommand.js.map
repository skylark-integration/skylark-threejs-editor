{"version":3,"sources":["commands/AddObjectCommand.js"],"names":["define","Command","THREE","AddObjectCommand","editor","object","call","this","type","undefined","name","prototype","execute","addObject","select","undo","removeObject","deselect","toJSON","output","fromJSON","json","objectByUuid","uuid","loader","ObjectLoader","parse"],"mappings":";;;;;;;AAAAA,QACI,aACA,sBACD,SAAUC,EAASC,GAClB,aACA,IAAIC,EAAmB,SAAUC,EAAQC,GACrCJ,EAAQK,KAAKC,KAAMH,GACnBG,KAAKC,KAAO,mBACZD,KAAKF,OAASA,OACCI,IAAXJ,IACAE,KAAKG,KAAO,eAAiBL,EAAOK,OA0B5C,OAvBAP,EAAiBQ,WACbC,QAAS,WACLL,KAAKH,OAAOS,UAAUN,KAAKF,QAC3BE,KAAKH,OAAOU,OAAOP,KAAKF,SAE5BU,KAAM,WACFR,KAAKH,OAAOY,aAAaT,KAAKF,QAC9BE,KAAKH,OAAOa,YAEhBC,OAAQ,WACJ,IAAIC,EAASlB,EAAQU,UAAUO,OAAOZ,KAAKC,MAE3C,OADAY,EAAOd,OAASE,KAAKF,OAAOa,SACrBC,GAEXC,SAAU,SAAUC,GAGhB,GAFApB,EAAQU,UAAUS,SAASd,KAAKC,KAAMc,GACtCd,KAAKF,OAASE,KAAKH,OAAOkB,aAAaD,EAAKhB,OAAOA,OAAOkB,WACtCd,IAAhBF,KAAKF,OAAsB,CAC3B,IAAImB,EAAS,IAAItB,EAAMuB,aACvBlB,KAAKF,OAASmB,EAAOE,MAAML,EAAKhB,WAIrCF","file":"../../commands/AddObjectCommand.js","sourcesContent":["define([\n    '../Command',\n    '../skylark-threejs'\n], function (Command, THREE) {\n    'use strict';\n    var AddObjectCommand = function (editor, object) {\n        Command.call(this, editor);\n        this.type = 'AddObjectCommand';\n        this.object = object;\n        if (object !== undefined) {\n            this.name = 'Add Object: ' + object.name;\n        }\n    };\n    AddObjectCommand.prototype = {\n        execute: function () {\n            this.editor.addObject(this.object);\n            this.editor.select(this.object);\n        },\n        undo: function () {\n            this.editor.removeObject(this.object);\n            this.editor.deselect();\n        },\n        toJSON: function () {\n            var output = Command.prototype.toJSON.call(this);\n            output.object = this.object.toJSON();\n            return output;\n        },\n        fromJSON: function (json) {\n            Command.prototype.fromJSON.call(this, json);\n            this.object = this.editor.objectByUuid(json.object.object.uuid);\n            if (this.object === undefined) {\n                var loader = new THREE.ObjectLoader();\n                this.object = loader.parse(json.object);\n            }\n        }\n    };\n    return AddObjectCommand;\n});"]}