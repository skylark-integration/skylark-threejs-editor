{"version":3,"sources":["commands/SetPositionCommand.js"],"names":["define","Command","THREE","SetPositionCommand","editor","object","newPosition","optionalOldPosition","call","this","type","name","updatable","undefined","oldPosition","position","clone","prototype","execute","copy","updateMatrixWorld","signals","objectChanged","dispatch","undo","update","command","toJSON","output","objectUuid","uuid","toArray","fromJSON","json","objectByUuid","Vector3","fromArray"],"mappings":";;;;;;;AAAAA,QACI,aACA,sBACD,SAAUC,EAASC,GAClB,aACA,IAAIC,EAAqB,SAAUC,EAAQC,EAAQC,EAAaC,GAC5DN,EAAQO,KAAKC,KAAML,GACnBK,KAAKC,KAAO,qBACZD,KAAKE,KAAO,eACZF,KAAKG,WAAY,EACjBH,KAAKJ,OAASA,OACCQ,IAAXR,QAAwCQ,IAAhBP,IACxBG,KAAKK,YAAcT,EAAOU,SAASC,QACnCP,KAAKH,YAAcA,EAAYU,cAEPH,IAAxBN,IACAE,KAAKK,YAAcP,EAAoBS,UA+B/C,OA5BAb,EAAmBc,WACfC,QAAS,WACLT,KAAKJ,OAAOU,SAASI,KAAKV,KAAKH,aAC/BG,KAAKJ,OAAOe,mBAAkB,GAC9BX,KAAKL,OAAOiB,QAAQC,cAAcC,SAASd,KAAKJ,SAEpDmB,KAAM,WACFf,KAAKJ,OAAOU,SAASI,KAAKV,KAAKK,aAC/BL,KAAKJ,OAAOe,mBAAkB,GAC9BX,KAAKL,OAAOiB,QAAQC,cAAcC,SAASd,KAAKJ,SAEpDoB,OAAQ,SAAUC,GACdjB,KAAKH,YAAYa,KAAKO,EAAQpB,cAElCqB,OAAQ,WACJ,IAAIC,EAAS3B,EAAQgB,UAAUU,OAAOnB,KAAKC,MAI3C,OAHAmB,EAAOC,WAAapB,KAAKJ,OAAOyB,KAChCF,EAAOd,YAAcL,KAAKK,YAAYiB,UACtCH,EAAOtB,YAAcG,KAAKH,YAAYyB,UAC/BH,GAEXI,SAAU,SAAUC,GAChBhC,EAAQgB,UAAUe,SAASxB,KAAKC,KAAMwB,GACtCxB,KAAKJ,OAASI,KAAKL,OAAO8B,aAAaD,EAAKJ,YAC5CpB,KAAKK,aAAc,IAAIZ,EAAMiC,SAAUC,UAAUH,EAAKnB,aACtDL,KAAKH,aAAc,IAAIJ,EAAMiC,SAAUC,UAAUH,EAAK3B,eAGvDH","file":"../../commands/SetPositionCommand.js","sourcesContent":["define([\n    '../Command',\n    '../skylark-threejs'\n], function (Command, THREE) {\n    'use strict';\n    var SetPositionCommand = function (editor, object, newPosition, optionalOldPosition) {\n        Command.call(this, editor);\n        this.type = 'SetPositionCommand';\n        this.name = 'Set Position';\n        this.updatable = true;\n        this.object = object;\n        if (object !== undefined && newPosition !== undefined) {\n            this.oldPosition = object.position.clone();\n            this.newPosition = newPosition.clone();\n        }\n        if (optionalOldPosition !== undefined) {\n            this.oldPosition = optionalOldPosition.clone();\n        }\n    };\n    SetPositionCommand.prototype = {\n        execute: function () {\n            this.object.position.copy(this.newPosition);\n            this.object.updateMatrixWorld(true);\n            this.editor.signals.objectChanged.dispatch(this.object);\n        },\n        undo: function () {\n            this.object.position.copy(this.oldPosition);\n            this.object.updateMatrixWorld(true);\n            this.editor.signals.objectChanged.dispatch(this.object);\n        },\n        update: function (command) {\n            this.newPosition.copy(command.newPosition);\n        },\n        toJSON: function () {\n            var output = Command.prototype.toJSON.call(this);\n            output.objectUuid = this.object.uuid;\n            output.oldPosition = this.oldPosition.toArray();\n            output.newPosition = this.newPosition.toArray();\n            return output;\n        },\n        fromJSON: function (json) {\n            Command.prototype.fromJSON.call(this, json);\n            this.object = this.editor.objectByUuid(json.objectUuid);\n            this.oldPosition = new THREE.Vector3().fromArray(json.oldPosition);\n            this.newPosition = new THREE.Vector3().fromArray(json.newPosition);\n        }\n    };\n    return SetPositionCommand;\n});"]}