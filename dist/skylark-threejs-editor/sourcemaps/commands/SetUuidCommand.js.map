{"version":3,"sources":["commands/SetUuidCommand.js"],"names":["define","Command","SetUuidCommand","editor","object","newUuid","call","this","type","name","oldUuid","undefined","uuid","prototype","execute","signals","objectChanged","dispatch","sceneGraphChanged","undo","toJSON","output","fromJSON","json","objectByUuid"],"mappings":";;;;;;;AAAAA,QAAQ,cAAe,SAAUC,GAC7B,aACA,IAAIC,EAAiB,SAAUC,EAAQC,EAAQC,GAC3CJ,EAAQK,KAAKC,KAAMJ,GACnBI,KAAKC,KAAO,iBACZD,KAAKE,KAAO,cACZF,KAAKH,OAASA,EACdG,KAAKG,aAAqBC,IAAXP,EAAuBA,EAAOQ,UAAOD,EACpDJ,KAAKF,QAAUA,GA6BnB,OA3BAH,EAAeW,WACXC,QAAS,WACLP,KAAKH,OAAOQ,KAAOL,KAAKF,QACxBE,KAAKJ,OAAOY,QAAQC,cAAcC,SAASV,KAAKH,QAChDG,KAAKJ,OAAOY,QAAQG,kBAAkBD,YAE1CE,KAAM,WACFZ,KAAKH,OAAOQ,KAAOL,KAAKG,QACxBH,KAAKJ,OAAOY,QAAQC,cAAcC,SAASV,KAAKH,QAChDG,KAAKJ,OAAOY,QAAQG,kBAAkBD,YAE1CG,OAAQ,WACJ,IAAIC,EAASpB,EAAQY,UAAUO,OAAOd,KAAKC,MAG3C,OAFAc,EAAOX,QAAUH,KAAKG,QACtBW,EAAOhB,QAAUE,KAAKF,QACfgB,GAEXC,SAAU,SAAUC,GAChBtB,EAAQY,UAAUS,SAAShB,KAAKC,KAAMgB,GACtChB,KAAKG,QAAUa,EAAKb,QACpBH,KAAKF,QAAUkB,EAAKlB,QACpBE,KAAKH,OAASG,KAAKJ,OAAOqB,aAAaD,EAAKb,cACxBC,IAAhBJ,KAAKH,SACLG,KAAKH,OAASG,KAAKJ,OAAOqB,aAAaD,EAAKlB,YAIjDH","file":"../../commands/SetUuidCommand.js","sourcesContent":["define(['../Command'], function (Command) {\n    'use strict';\n    var SetUuidCommand = function (editor, object, newUuid) {\n        Command.call(this, editor);\n        this.type = 'SetUuidCommand';\n        this.name = 'Update UUID';\n        this.object = object;\n        this.oldUuid = object !== undefined ? object.uuid : undefined;\n        this.newUuid = newUuid;\n    };\n    SetUuidCommand.prototype = {\n        execute: function () {\n            this.object.uuid = this.newUuid;\n            this.editor.signals.objectChanged.dispatch(this.object);\n            this.editor.signals.sceneGraphChanged.dispatch();\n        },\n        undo: function () {\n            this.object.uuid = this.oldUuid;\n            this.editor.signals.objectChanged.dispatch(this.object);\n            this.editor.signals.sceneGraphChanged.dispatch();\n        },\n        toJSON: function () {\n            var output = Command.prototype.toJSON.call(this);\n            output.oldUuid = this.oldUuid;\n            output.newUuid = this.newUuid;\n            return output;\n        },\n        fromJSON: function (json) {\n            Command.prototype.fromJSON.call(this, json);\n            this.oldUuid = json.oldUuid;\n            this.newUuid = json.newUuid;\n            this.object = this.editor.objectByUuid(json.oldUuid);\n            if (this.object === undefined) {\n                this.object = this.editor.objectByUuid(json.newUuid);\n            }\n        }\n    };\n    return SetUuidCommand;\n});"]}