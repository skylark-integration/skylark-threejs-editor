{"version":3,"sources":["commands/SetMaterialVectorCommand.js"],"names":["define","Command","SetMaterialVectorCommand","editor","object","attributeName","newValue","materialSlot","call","this","type","name","updatable","material","getObjectMaterial","oldValue","undefined","toArray","prototype","execute","fromArray","signals","materialChanged","dispatch","undo","update","cmd","toJSON","output","objectUuid","uuid","fromJSON","json","objectByUuid"],"mappings":";;;;;;;AAAAA,QAAQ,cAAe,SAAUC,GAC7B,aACA,IAAIC,EAA2B,SAAUC,EAAQC,EAAQC,EAAeC,EAAUC,GAC9EN,EAAQO,KAAKC,KAAMN,GACnBM,KAAKC,KAAO,0BACZD,KAAKE,KAAO,gBAAkBN,EAC9BI,KAAKG,WAAY,EACjBH,KAAKL,OAASA,EACdK,KAAKI,SAAWJ,KAAKN,OAAOW,kBAAkBV,EAAQG,GACtDE,KAAKM,cAA6BC,IAAlBP,KAAKI,SAAyBJ,KAAKI,SAASR,GAAeY,eAAYD,EACvFP,KAAKH,SAAWA,EAChBG,KAAKJ,cAAgBA,GA8BzB,OA5BAH,EAAyBgB,WACrBC,QAAS,WACLV,KAAKI,SAASJ,KAAKJ,eAAee,UAAUX,KAAKH,UACjDG,KAAKN,OAAOkB,QAAQC,gBAAgBC,SAASd,KAAKI,WAEtDW,KAAM,WACFf,KAAKI,SAASJ,KAAKJ,eAAee,UAAUX,KAAKM,UACjDN,KAAKN,OAAOkB,QAAQC,gBAAgBC,SAASd,KAAKI,WAEtDY,OAAQ,SAAUC,GACdjB,KAAKH,SAAWoB,EAAIpB,UAExBqB,OAAQ,WACJ,IAAIC,EAAS3B,EAAQiB,UAAUS,OAAOnB,KAAKC,MAK3C,OAJAmB,EAAOC,WAAapB,KAAKL,OAAO0B,KAChCF,EAAOvB,cAAgBI,KAAKJ,cAC5BuB,EAAOb,SAAWN,KAAKM,SACvBa,EAAOtB,SAAWG,KAAKH,SAChBsB,GAEXG,SAAU,SAAUC,GAChB/B,EAAQiB,UAAUa,SAASvB,KAAKC,KAAMuB,GACtCvB,KAAKL,OAASK,KAAKN,OAAO8B,aAAaD,EAAKH,YAC5CpB,KAAKJ,cAAgB2B,EAAK3B,cAC1BI,KAAKM,SAAWiB,EAAKjB,SACrBN,KAAKH,SAAW0B,EAAK1B,WAGtBJ","file":"../../commands/SetMaterialVectorCommand.js","sourcesContent":["define(['../Command'], function (Command) {\n    'use strict';\n    var SetMaterialVectorCommand = function (editor, object, attributeName, newValue, materialSlot) {\n        Command.call(this, editor);\n        this.type = 'SetMaterialColorCommand';\n        this.name = 'Set Material.' + attributeName;\n        this.updatable = true;\n        this.object = object;\n        this.material = this.editor.getObjectMaterial(object, materialSlot);\n        this.oldValue = this.material !== undefined ? this.material[attributeName].toArray() : undefined;\n        this.newValue = newValue;\n        this.attributeName = attributeName;\n    };\n    SetMaterialVectorCommand.prototype = {\n        execute: function () {\n            this.material[this.attributeName].fromArray(this.newValue);\n            this.editor.signals.materialChanged.dispatch(this.material);\n        },\n        undo: function () {\n            this.material[this.attributeName].fromArray(this.oldValue);\n            this.editor.signals.materialChanged.dispatch(this.material);\n        },\n        update: function (cmd) {\n            this.newValue = cmd.newValue;\n        },\n        toJSON: function () {\n            var output = Command.prototype.toJSON.call(this);\n            output.objectUuid = this.object.uuid;\n            output.attributeName = this.attributeName;\n            output.oldValue = this.oldValue;\n            output.newValue = this.newValue;\n            return output;\n        },\n        fromJSON: function (json) {\n            Command.prototype.fromJSON.call(this, json);\n            this.object = this.editor.objectByUuid(json.objectUuid);\n            this.attributeName = json.attributeName;\n            this.oldValue = json.oldValue;\n            this.newValue = json.newValue;\n        }\n    };\n    return SetMaterialVectorCommand;\n});"]}