{"version":3,"sources":["commands/RemoveScriptCommand.js"],"names":["define","Command","RemoveScriptCommand","editor","object","script","call","this","type","name","index","scripts","uuid","indexOf","prototype","execute","undefined","splice","signals","scriptRemoved","dispatch","undo","scriptAdded","toJSON","output","objectUuid","fromJSON","json","objectByUuid"],"mappings":";;;;;;;AAAAA,QAAQ,cAAe,SAAUC,GAC7B,aACA,IAAIC,EAAsB,SAAUC,EAAQC,EAAQC,GAChDJ,EAAQK,KAAKC,KAAMJ,GACnBI,KAAKC,KAAO,sBACZD,KAAKE,KAAO,gBACZF,KAAKH,OAASA,EACdG,KAAKF,OAASA,EACVE,KAAKH,QAAUG,KAAKF,SACpBE,KAAKG,MAAQH,KAAKJ,OAAOQ,QAAQJ,KAAKH,OAAOQ,MAAMC,QAAQN,KAAKF,UAiCxE,OA9BAH,EAAoBY,WAChBC,QAAS,gBACyCC,IAA1CT,KAAKJ,OAAOQ,QAAQJ,KAAKH,OAAOQ,SAEhB,IAAhBL,KAAKG,OACLH,KAAKJ,OAAOQ,QAAQJ,KAAKH,OAAOQ,MAAMK,OAAOV,KAAKG,MAAO,GAE7DH,KAAKJ,OAAOe,QAAQC,cAAcC,SAASb,KAAKF,UAEpDgB,KAAM,gBAC4CL,IAA1CT,KAAKJ,OAAOQ,QAAQJ,KAAKH,OAAOQ,QAChCL,KAAKJ,OAAOQ,QAAQJ,KAAKH,OAAOQ,UAEpCL,KAAKJ,OAAOQ,QAAQJ,KAAKH,OAAOQ,MAAMK,OAAOV,KAAKG,MAAO,EAAGH,KAAKF,QACjEE,KAAKJ,OAAOe,QAAQI,YAAYF,SAASb,KAAKF,SAElDkB,OAAQ,WACJ,IAAIC,EAASvB,EAAQa,UAAUS,OAAOjB,KAAKC,MAI3C,OAHAiB,EAAOC,WAAalB,KAAKH,OAAOQ,KAChCY,EAAOnB,OAASE,KAAKF,OACrBmB,EAAOd,MAAQH,KAAKG,MACbc,GAEXE,SAAU,SAAUC,GAChB1B,EAAQa,UAAUY,SAASpB,KAAKC,KAAMoB,GACtCpB,KAAKF,OAASsB,EAAKtB,OACnBE,KAAKG,MAAQiB,EAAKjB,MAClBH,KAAKH,OAASG,KAAKJ,OAAOyB,aAAaD,EAAKF,cAG7CvB","file":"../../commands/RemoveScriptCommand.js","sourcesContent":["define(['../Command'], function (Command) {\n    'use strict';\n    var RemoveScriptCommand = function (editor, object, script) {\n        Command.call(this, editor);\n        this.type = 'RemoveScriptCommand';\n        this.name = 'Remove Script';\n        this.object = object;\n        this.script = script;\n        if (this.object && this.script) {\n            this.index = this.editor.scripts[this.object.uuid].indexOf(this.script);\n        }\n    };\n    RemoveScriptCommand.prototype = {\n        execute: function () {\n            if (this.editor.scripts[this.object.uuid] === undefined)\n                return;\n            if (this.index !== -1) {\n                this.editor.scripts[this.object.uuid].splice(this.index, 1);\n            }\n            this.editor.signals.scriptRemoved.dispatch(this.script);\n        },\n        undo: function () {\n            if (this.editor.scripts[this.object.uuid] === undefined) {\n                this.editor.scripts[this.object.uuid] = [];\n            }\n            this.editor.scripts[this.object.uuid].splice(this.index, 0, this.script);\n            this.editor.signals.scriptAdded.dispatch(this.script);\n        },\n        toJSON: function () {\n            var output = Command.prototype.toJSON.call(this);\n            output.objectUuid = this.object.uuid;\n            output.script = this.script;\n            output.index = this.index;\n            return output;\n        },\n        fromJSON: function (json) {\n            Command.prototype.fromJSON.call(this, json);\n            this.script = json.script;\n            this.index = json.index;\n            this.object = this.editor.objectByUuid(json.objectUuid);\n        }\n    };\n    return RemoveScriptCommand;\n});"]}