{"version":3,"sources":["sideitems/Geometry.js"],"names":["define","THREE","mrdoobui","SetGeometryValueCommand","SidebarGeometryGeometry","SidebarGeometryBufferGeometry","SidebarGeometryModifiers","SidebarGeometryBoxGeometry","SidebarGeometryCircleGeometry","SidebarGeometryCylinderGeometry","SidebarGeometryDodecahedronGeometry","SidebarGeometryExtrudeGeometry","SidebarGeometryIcosahedronGeometry","SidebarGeometryLatheGeometry","SidebarGeometryOctahedronGeometry","SidebarGeometryPlaneGeometry","SidebarGeometryRingGeometry","SidebarGeometryShapeGeometry","SidebarGeometrySphereGeometry","SidebarGeometryTeapotBufferGeometry","SidebarGeometryTetrahedronGeometry","SidebarGeometryTorusGeometry","SidebarGeometryTorusKnotGeometry","SidebarGeometryTubeGeometry","geometryUIClasses","BoxBufferGeometry","CircleBufferGeometry","CylinderBufferGeometry","DodecahedronBufferGeometry","ExtrudeBufferGeometry","IcosahedronBufferGeometry","LatheBufferGeometry","OctahedronBufferGeometry","PlaneBufferGeometry","RingBufferGeometry","ShapeBufferGeometry","SphereBufferGeometry","TeapotBufferGeometry","TetrahedronBufferGeometry","TorusBufferGeometry","TorusKnotBufferGeometry","TubeBufferGeometry","editor","strings","signals","container","UIPanel","setBorderTop","setDisplay","setPaddingTop","currentGeometryType","geometryTypeRow","UIRow","geometryType","UIText","add","getKey","setWidth","geometryUUIDRow","geometryUUID","UIInput","setFontSize","setDisabled","geometryUUIDRenew","UIButton","setMarginLeft","onClick","setValue","MathUtils","generateUUID","execute","selected","getValue","geometryNameRow","geometryName","onChange","parameters","UISpan","geometryBoundingSphere","build","object","geometry","type","uuid","name","clear","undefined","boundingSphere","computeBoundingSphere","Math","floor","radius","objectSelected","geometryChanged"],"mappings":"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","file":"../../sideitems/Geometry.js","sourcesContent":["define([\n    'skylark-threejs',\n    'skylark-mrdoobui',\n    '../commands/SetGeometryValueCommand',\n    './geometry/Geometry',\n    './geometry/BufferGeometry',\n    './geometry/Modifiers',\n    './geometry/BoxGeometry',\n    './geometry/CircleGeometry',\n    './geometry/CylinderGeometry',\n    './geometry/DodecahedronGeometry',\n    './geometry/ExtrudeGeometry',\n    './geometry/IcosahedronGeometry',\n    './geometry/LatheGeometry',\n    './geometry/OctahedronGeometry',\n    './geometry/PlaneGeometry',\n    './geometry/RingGeometry',\n    './geometry/ShapeGeometry',\n    './geometry/SphereGeometry',\n    './geometry/TeapotBufferGeometry',\n    './geometry/TetrahedronGeometry',\n    './geometry/TorusGeometry',\n    './geometry/TorusKnotGeometry',\n    './geometry/TubeGeometry'\n], function (\n    THREE, \n    mrdoobui, \n    SetGeometryValueCommand, \n    SidebarGeometryGeometry,\n    SidebarGeometryBufferGeometry,\n    SidebarGeometryModifiers,\n    SidebarGeometryBoxGeometry,\n    SidebarGeometryCircleGeometry,\n    SidebarGeometryCylinderGeometry,\n    SidebarGeometryDodecahedronGeometry,\n    SidebarGeometryExtrudeGeometry,\n    SidebarGeometryIcosahedronGeometry,\n    SidebarGeometryLatheGeometry,\n    SidebarGeometryOctahedronGeometry,\n    SidebarGeometryPlaneGeometry,\n    SidebarGeometryRingGeometry,\n    SidebarGeometryShapeGeometry,\n    SidebarGeometrySphereGeometry,\n    SidebarGeometryTeapotBufferGeometry,\n    SidebarGeometryTetrahedronGeometry,\n    SidebarGeometryTorusGeometry,\n    SidebarGeometryTorusKnotGeometry,\n    SidebarGeometryTubeGeometry\n) {\n    'use strict';\n    var geometryUIClasses = {\n        'BoxBufferGeometry': SidebarGeometryBoxGeometry,\n        'CircleBufferGeometry': SidebarGeometryCircleGeometry,\n        'CylinderBufferGeometry': SidebarGeometryCylinderGeometry,\n        'DodecahedronBufferGeometry': SidebarGeometryDodecahedronGeometry,\n        'ExtrudeBufferGeometry': SidebarGeometryExtrudeGeometry,\n        'IcosahedronBufferGeometry': SidebarGeometryIcosahedronGeometry,\n        'LatheBufferGeometry': SidebarGeometryLatheGeometry,\n        'OctahedronBufferGeometry': SidebarGeometryOctahedronGeometry,\n        'PlaneBufferGeometry': SidebarGeometryPlaneGeometry,\n        'RingBufferGeometry': SidebarGeometryRingGeometry,\n        'ShapeBufferGeometry': SidebarGeometryShapeGeometry,\n        'SphereBufferGeometry': SidebarGeometrySphereGeometry,\n        'TeapotBufferGeometry': SidebarGeometryTeapotBufferGeometry,\n        'TetrahedronBufferGeometry': SidebarGeometryTetrahedronGeometry,\n        'TorusBufferGeometry': SidebarGeometryTorusGeometry,\n        'TorusKnotBufferGeometry': SidebarGeometryTorusKnotGeometry,\n        'TubeBufferGeometry': SidebarGeometryTubeGeometry\n    };\n    var SidebarGeometry = function (editor) {\n        var strings = editor.strings;\n        var signals = editor.signals;\n        var container = new mrdoobui.UIPanel();\n        container.setBorderTop('0');\n        container.setDisplay('none');\n        container.setPaddingTop('20px');\n        var currentGeometryType = null;\n        var geometryTypeRow = new mrdoobui.UIRow();\n        var geometryType = new mrdoobui.UIText();\n        geometryTypeRow.add(new mrdoobui.UIText(strings.getKey('sidebar/geometry/type')).setWidth('90px'));\n        geometryTypeRow.add(geometryType);\n        container.add(geometryTypeRow);\n        var geometryUUIDRow = new mrdoobui.UIRow();\n        var geometryUUID = new mrdoobui.UIInput().setWidth('102px').setFontSize('12px').setDisabled(true);\n        var geometryUUIDRenew = new mrdoobui.UIButton(strings.getKey('sidebar/geometry/new')).setMarginLeft('7px').onClick(function () {\n            geometryUUID.setValue(THREE.MathUtils.generateUUID());\n            editor.execute(new SetGeometryValueCommand(editor, editor.selected, 'uuid', geometryUUID.getValue()));\n        });\n        geometryUUIDRow.add(new mrdoobui.UIText(strings.getKey('sidebar/geometry/uuid')).setWidth('90px'));\n        geometryUUIDRow.add(geometryUUID);\n        geometryUUIDRow.add(geometryUUIDRenew);\n        container.add(geometryUUIDRow);\n        var geometryNameRow = new mrdoobui.UIRow();\n        var geometryName = new mrdoobui.UIInput().setWidth('150px').setFontSize('12px').onChange(function () {\n            editor.execute(new SetGeometryValueCommand(editor, editor.selected, 'name', geometryName.getValue()));\n        });\n        geometryNameRow.add(new mrdoobui.UIText(strings.getKey('sidebar/geometry/name')).setWidth('90px'));\n        geometryNameRow.add(geometryName);\n        container.add(geometryNameRow);\n        var parameters = new mrdoobui.UISpan();\n        container.add(parameters);\n        container.add(new SidebarGeometryGeometry(editor));\n        container.add(new SidebarGeometryBufferGeometry(editor));\n        var geometryBoundingSphere = new mrdoobui.UIText();\n        container.add(new mrdoobui.UIText(strings.getKey('sidebar/geometry/bounds')).setWidth('90px'));\n        container.add(geometryBoundingSphere);\n        function build() {\n            var object = editor.selected;\n            if (object && object.geometry) {\n                var geometry = object.geometry;\n                container.setDisplay('block');\n                geometryType.setValue(geometry.type);\n                geometryUUID.setValue(geometry.uuid);\n                geometryName.setValue(geometry.name);\n                if (currentGeometryType !== geometry.type) {\n                    parameters.clear();\n                    if (geometry.type === 'BufferGeometry' || geometry.type === 'Geometry') {\n                        parameters.add(new SidebarGeometryModifiers(editor, object));\n                    } else if (geometryUIClasses[geometry.type] !== undefined) {\n                        parameters.add(new geometryUIClasses[geometry.type](editor, object));\n                    }\n                    currentGeometryType = geometry.type;\n                }\n                if (geometry.boundingSphere === null)\n                    geometry.computeBoundingSphere();\n                geometryBoundingSphere.setValue(Math.floor(geometry.boundingSphere.radius * 1000) / 1000);\n            } else {\n                container.setDisplay('none');\n            }\n        }\n        signals.objectSelected.add(function () {\n            currentGeometryType = null;\n            build();\n        });\n        signals.geometryChanged.add(build);\n        return container;\n    };\n    return SidebarGeometry;\n});"]}