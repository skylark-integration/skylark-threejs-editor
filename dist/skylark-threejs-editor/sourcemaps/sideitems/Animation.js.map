{"version":3,"sources":["sideitems/Animation.js"],"names":["define","mrdoobui","editor","signals","mixer","actions","objectSelected","add","object","animations","uuid","undefined","container","setDisplay","firstAnimation","options","animation","name","clipAction","animationsSelect","setOptions","setValue","objectRemoved","uncacheRoot","UIPanel","UIText","setTextTransform","UIBreak","div","UIDiv","UISelect","setFontSize","UIButton","setMarginLeft","onClick","getValue","play","stop"],"mappings":";;;;;;;AAAAA,QACI,oBACD,SAAUC,GACT,aAgDA,OA/CuB,SAAUC,GAC7B,IAAIC,EAAUD,EAAOC,QACjBC,EAAQF,EAAOE,MACfC,KACJF,EAAQG,eAAeC,IAAI,SAAUC,GACjC,IAAIC,EAAaP,EAAOO,WAAsB,OAAXD,EAAkBA,EAAOE,KAAO,IACnE,QAAmBC,IAAfF,EAA0B,CAC1BG,EAAUC,WAAW,IACrB,IACIC,EADAC,KAEJ,IAAK,IAAIC,KAAaP,OACKE,IAAnBG,IACAA,EAAiBE,EAAUC,MAC/BZ,EAAQW,EAAUC,MAAQb,EAAMc,WAAWF,EAAWR,GACtDO,EAAQC,EAAUC,MAAQD,EAAUC,KAExCE,EAAiBC,WAAWL,GAC5BI,EAAiBE,SAASP,QAE1BF,EAAUC,WAAW,UAG7BV,EAAQmB,cAAcf,IAAI,SAAUC,QAEbG,IADFT,EAAOO,WAAsB,OAAXD,EAAkBA,EAAOE,KAAO,KAE/DN,EAAMmB,YAAYf,KAS1B,IAAII,EAAY,IAAIX,EAASuB,QAC7BZ,EAAUC,WAAW,QACrBD,EAAUL,IAAI,IAAIN,EAASwB,OAAO,cAAcC,iBAAiB,cACjEd,EAAUL,IAAI,IAAIN,EAAS0B,SAC3Bf,EAAUL,IAAI,IAAIN,EAAS0B,SAC3B,IAAIC,EAAM,IAAI3B,EAAS4B,MACvBjB,EAAUL,IAAIqB,GACd,IAAIT,GAAmB,IAAIlB,EAAS6B,UAAWC,YAAY,QAI3D,OAHAH,EAAIrB,IAAIY,GACRS,EAAIrB,IAAI,IAAIN,EAAS+B,SAAS,QAAQC,cAAc,OAAOC,QAf3D,WACI7B,EAAQc,EAAiBgB,YAAYC,UAezCR,EAAIrB,IAAI,IAAIN,EAAS+B,SAAS,QAAQC,cAAc,OAAOC,QAb3D,WACI7B,EAAQc,EAAiBgB,YAAYE,UAalCzB","file":"../../sideitems/Animation.js","sourcesContent":["define([\n    'skylark-mrdoobui'\n], function (mrdoobui) {\n    'use strict';\n    var SidebarAnimation = function (editor) {\n        var signals = editor.signals;\n        var mixer = editor.mixer;\n        var actions = {};\n        signals.objectSelected.add(function (object) {\n            var animations = editor.animations[object !== null ? object.uuid : ''];\n            if (animations !== undefined) {\n                container.setDisplay('');\n                var options = {};\n                var firstAnimation;\n                for (var animation of animations) {\n                    if (firstAnimation === undefined)\n                        firstAnimation = animation.name;\n                    actions[animation.name] = mixer.clipAction(animation, object);\n                    options[animation.name] = animation.name;\n                }\n                animationsSelect.setOptions(options);\n                animationsSelect.setValue(firstAnimation);\n            } else {\n                container.setDisplay('none');\n            }\n        });\n        signals.objectRemoved.add(function (object) {\n            var animations = editor.animations[object !== null ? object.uuid : ''];\n            if (animations !== undefined) {\n                mixer.uncacheRoot(object);\n            }\n        });\n        function playAction() {\n            actions[animationsSelect.getValue()].play();\n        }\n        function stopAction() {\n            actions[animationsSelect.getValue()].stop();\n        }\n        var container = new mrdoobui.UIPanel();\n        container.setDisplay('none');\n        container.add(new mrdoobui.UIText('Animations').setTextTransform('uppercase'));\n        container.add(new mrdoobui.UIBreak());\n        container.add(new mrdoobui.UIBreak());\n        var div = new mrdoobui.UIDiv();\n        container.add(div);\n        var animationsSelect = new mrdoobui.UISelect().setFontSize('12px');\n        div.add(animationsSelect);\n        div.add(new mrdoobui.UIButton('Play').setMarginLeft('4px').onClick(playAction));\n        div.add(new mrdoobui.UIButton('Stop').setMarginLeft('4px').onClick(stopAction));\n        return container;\n    };\n    return SidebarAnimation;\n});"]}