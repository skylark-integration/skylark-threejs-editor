{"version":3,"sources":["Toolbar.js"],"names":["define","mrdoobui","ThreeUI","editor","signals","strings","container","UIPanel","setId","setDisplay","buttons","add","translate","UIButton","getKey","dom","className","onClick","transformModeChanged","dispatch","rotate","scale","local","UIBoolean","onChange","spaceChanged","this","getValue","objectSelected","object","mode","classList","remove"],"mappings":";;;;;;;AAAAA,QACI,mBACA,aACD,SAAUC,EAAUC,GACnB,aAmDA,OAlDc,SAAUC,GACpB,IAAIC,EAAUD,EAAOC,QACjBC,EAAUF,EAAOE,QACjBC,EAAY,IAAIL,EAASM,QAC7BD,EAAUE,MAAM,WAChBF,EAAUG,WAAW,QACrB,IAAIC,EAAU,IAAIT,EAASM,QAC3BD,EAAUK,IAAID,GACd,IAAIE,EAAY,IAAIX,EAASY,SAASR,EAAQS,OAAO,sBACrDF,EAAUG,IAAIC,UAAY,kBAC1BJ,EAAUK,QAAQ,WACdb,EAAQc,qBAAqBC,SAAS,eAE1CT,EAAQC,IAAIC,GACZ,IAAIQ,EAAS,IAAInB,EAASY,SAASR,EAAQS,OAAO,mBAClDM,EAAOH,QAAQ,WACXb,EAAQc,qBAAqBC,SAAS,YAE1CT,EAAQC,IAAIS,GACZ,IAAIC,EAAQ,IAAIpB,EAASY,SAASR,EAAQS,OAAO,kBACjDO,EAAMJ,QAAQ,WACVb,EAAQc,qBAAqBC,SAAS,WAE1CT,EAAQC,IAAIU,GACZ,IAAIC,EAAQ,IAAIpB,EAAQqB,WAAU,EAAOlB,EAAQS,OAAO,kBAwBxD,OAvBAQ,EAAME,SAAS,WACXpB,EAAQqB,aAAaN,UAA6B,IAApBO,KAAKC,WAAsB,QAAU,WAEvEjB,EAAQC,IAAIW,GACZlB,EAAQwB,eAAejB,IAAI,SAAUkB,GACjCvB,EAAUG,WAAsB,OAAXoB,EAAkB,OAAS,MAEpDzB,EAAQc,qBAAqBP,IAAI,SAAUmB,GAIvC,OAHAlB,EAAUG,IAAIgB,UAAUC,OAAO,YAC/BZ,EAAOL,IAAIgB,UAAUC,OAAO,YAC5BX,EAAMN,IAAIgB,UAAUC,OAAO,YACnBF,GACR,IAAK,YACDlB,EAAUG,IAAIgB,UAAUpB,IAAI,YAC5B,MACJ,IAAK,SACDS,EAAOL,IAAIgB,UAAUpB,IAAI,YACzB,MACJ,IAAK,QACDU,EAAMN,IAAIgB,UAAUpB,IAAI,eAIzBL","file":"../Toolbar.js","sourcesContent":["define([\n    'skylark-mrdoobui',\n    './ThreeUI'\n], function (mrdoobui, ThreeUI) {\n    'use strict';\n    var Toolbar = function (editor) {\n        var signals = editor.signals;\n        var strings = editor.strings;\n        var container = new mrdoobui.UIPanel();\n        container.setId('toolbar');\n        container.setDisplay('none');\n        var buttons = new mrdoobui.UIPanel();\n        container.add(buttons);\n        var translate = new mrdoobui.UIButton(strings.getKey('toolbar/translate'));\n        translate.dom.className = 'Button selected';\n        translate.onClick(function () {\n            signals.transformModeChanged.dispatch('translate');\n        });\n        buttons.add(translate);\n        var rotate = new mrdoobui.UIButton(strings.getKey('toolbar/rotate'));\n        rotate.onClick(function () {\n            signals.transformModeChanged.dispatch('rotate');\n        });\n        buttons.add(rotate);\n        var scale = new mrdoobui.UIButton(strings.getKey('toolbar/scale'));\n        scale.onClick(function () {\n            signals.transformModeChanged.dispatch('scale');\n        });\n        buttons.add(scale);\n        var local = new ThreeUI.UIBoolean(false, strings.getKey('toolbar/local'));\n        local.onChange(function () {\n            signals.spaceChanged.dispatch(this.getValue() === true ? 'local' : 'world');\n        });\n        buttons.add(local);\n        signals.objectSelected.add(function (object) {\n            container.setDisplay(object === null ? 'none' : '');\n        });\n        signals.transformModeChanged.add(function (mode) {\n            translate.dom.classList.remove('selected');\n            rotate.dom.classList.remove('selected');\n            scale.dom.classList.remove('selected');\n            switch (mode) {\n            case 'translate':\n                translate.dom.classList.add('selected');\n                break;\n            case 'rotate':\n                rotate.dom.classList.add('selected');\n                break;\n            case 'scale':\n                scale.dom.classList.add('selected');\n                break;\n            }\n        });\n        return container;\n    };\n    return Toolbar;\n});"]}