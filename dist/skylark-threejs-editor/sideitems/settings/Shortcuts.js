/**
 * skylark-threejs-editor - A version of threejs-editor that ported to running on skylarkjs
 * @author Hudaokeji, Inc.
 * @version v0.9.0
 * @link https://github.com/skylark-integration/skylark-threejs-editor/
 * @license MIT
 */
define(["skylark-mrdoobui","../../commands/RemoveObjectCommand"],function(e,t){"use strict";return{SidebarSettingsShortcuts:function(s){var a=s.strings,n=navigator.platform.toUpperCase().indexOf("MAC")>=0;function r(e){return e.match(/^[A-Za-z0-9]$/i)}var o=s.config,c=s.signals,d=new e.UIDiv;d.add(new e.UIBreak);var i=["translate","rotate","scale","undo","focus"];function u(t){var s="settings/shortcuts/"+t,n=new e.UIRow,c=(new e.UIInput).setWidth("150px").setFontSize("12px");c.setTextTransform("lowercase"),c.onChange(function(){var e=c.getValue().toLowerCase();r(e)&&o.setKey(s,e)}),c.dom.addEventListener("click",function(){c.dom.select()}),c.dom.addEventListener("blur",function(){r(c.getValue())||c.setValue(o.getKey(s))}),c.dom.addEventListener("keyup",function(e){r(e.key)&&c.dom.blur()}),void 0!==o.getKey(s)&&c.setValue(o.getKey(s)),c.dom.maxLength=1,n.add(new e.UIText(a.getKey("sidebar/settings/shortcuts/"+t)).setTextTransform("capitalize").setWidth("90px")),n.add(c),d.add(n)}for(var l=0;l<i.length;l++)u(i[l]);return document.addEventListener("keydown",function(e){switch(e.key.toLowerCase()){case"backspace":e.preventDefault();case"delete":var a=s.selected;if(null===a)return;null!==a.parent&&s.execute(new t(s,a));break;case o.getKey("settings/shortcuts/translate"):c.transformModeChanged.dispatch("translate");break;case o.getKey("settings/shortcuts/rotate"):c.transformModeChanged.dispatch("rotate");break;case o.getKey("settings/shortcuts/scale"):c.transformModeChanged.dispatch("scale");break;case o.getKey("settings/shortcuts/undo"):(n?e.metaKey:e.ctrlKey)&&(e.preventDefault(),e.shiftKey?s.redo():s.undo());break;case o.getKey("settings/shortcuts/focus"):null!==s.selected&&s.focus(s.selected)}},!1),d}}});
//# sourceMappingURL=../../sourcemaps/sideitems/settings/Shortcuts.js.map
